{% extends 'base.html' %}

{% block content %}
  <h1>Team List</h1>
  <a href="{% url 'add_team' %}">Create Team</a>
  <ul>
  {% for team in teams %}
    <li>
      <strong>Team:</strong> {{ team.name }}<br>
      <strong>Coach:</strong> {{ team.coach }}<br>
      <strong>Players:</strong> {{ team.players.all|join:", " }}<br>
      {% if user.is_authenticated %}
      <div class="card-footer text-muted">
        <a href="{% url 'delete_team' team.name %}" class="btn btn-outline-danger btn-sm">Delete Team</a>            
        <a href="{% url 'update_team' team.name %}" class="btn btn-outline-danger btn-sm">Edit Team</a> 
      </div>
  {% endif %}
    </li>
  {% endfor %}

  </ul>
  <h1>List of requests</h1>
  <ul>
  {% for signup_request in signup_requests %}
    <li>
      <strong>Full name: </strong>{{ signup_request.player.get_full_name }}</li><br>
      <strong>Username: </strong>{{ signup_request.player.get_username }}</li><br>
      <strong>Email: </strong>{{ signup_request.player.email }}</li><br>
      <div class="card-footer text-muted">
        <a href="{% url 'accept_request' username=signup_request.player.get_username %}" class="btn btn-outline-danger btn-sm">Accept request</a>            
        <a href="{% url 'reject_request' username=signup_request.player.get_username %}" class="btn btn-outline-danger btn-sm">Reject request</a> 
      </div>    
      
    </li>
  {% endfor %}
  </ul>
  {% endblock %}